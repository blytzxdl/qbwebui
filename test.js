const result = [
    {
        "availability": 0,
        "index": 0,
        "is_seed": true,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 1 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            0,
            23
        ],
        "priority": 0,
        "progress": 0,
        "size": 98680174
    },
    {
        "availability": 0,
        "index": 1,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 2 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            23,
            46
        ],
        "priority": 0,
        "progress": 0,
        "size": 97820593
    },
    {
        "availability": 0,
        "index": 2,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 3 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            46,
            78
        ],
        "priority": 0,
        "progress": 0,
        "size": 133596588
    },
    {
        "availability": 0,
        "index": 3,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 4v0 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            78,
            108
        ],
        "priority": 0,
        "progress": 0,
        "size": 126165491
    },
    {
        "availability": 0,
        "index": 4,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 5v0 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            108,
            135
        ],
        "priority": 0,
        "progress": 0,
        "size": 111827535
    },
    {
        "availability": 0,
        "index": 5,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 6 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            135,
            161
        ],
        "priority": 0,
        "progress": 0,
        "size": 107313174
    },
    {
        "availability": 0,
        "index": 6,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/Cinema Intros/[ANE] Kara no Kyoukai - Cinema Intro 7v0 [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            161,
            192
        ],
        "priority": 0,
        "progress": 0.0036006821145255752,
        "size": 130372242
    },
    {
        "availability": 0,
        "index": 7,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 1 - Overlooking View [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            192,
            1383
        ],
        "priority": 4,
        "progress": 1,
        "size": 4996404698
    },
    {
        "availability": 0,
        "index": 8,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 2 - Murder Speculation (Part A) [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            1383,
            2821
        ],
        "priority": 4,
        "progress": 1,
        "size": 6032275576
    },
    {
        "availability": 0,
        "index": 9,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 3 - Remaining Sense of Pain [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            2821,
            4439
        ],
        "priority": 4,
        "progress": 1,
        "size": 6784516561
    },
    {
        "availability": 0,
        "index": 10,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 4v0 - The Hollow Shrine [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            4439,
            5580
        ],
        "priority": 4,
        "progress": 1,
        "size": 4787202001
    },
    {
        "availability": 0,
        "index": 11,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 5v0 - Paradox Paradigm [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            5580,
            10912
        ],
        "priority": 4,
        "progress": 1,
        "size": 22362533021
    },
    {
        "availability": 0,
        "index": 12,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 6 - Oblivion Recording [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            10912,
            12444
        ],
        "priority": 4,
        "progress": 1,
        "size": 6426052745
    },
    {
        "availability": 0,
        "index": 13,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - 7v0 - Murder Speculation (Part B) [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            12444,
            16897
        ],
        "priority": 4,
        "progress": 1,
        "size": 18680549417
    },
    {
        "availability": 0,
        "index": 14,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - Epilogue [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            16897,
            18138
        ],
        "priority": 4,
        "progress": 1,
        "size": 5202412396
    },
    {
        "availability": 0,
        "index": 15,
        "name": "[ANE] Kara no Kyoukai [BDRip 1080p x264 FLAC]/[ANE] Kara no Kyoukai - Remix v0 - Gate of Seventh Heaven [BDRip 1080p x264 FLAC].mkv",
        "piece_range": [
            18138,
            20396
        ],
        "priority": 4,
        "progress": 1,
        "size": 9469939268
    }
]

let res = [{}]

//遍历文件列表
result.forEach((val, index, arr) => {
    let place = res
    //单个文件路径path拆分为数组
    let path = val.name.split('/')
    if (!place[0].label) {
        place[0].label = path[0]

    }
    //遍历每层文件路径判断工作路径place
    for (let i = 0; i < path.length; i++) {
        //比较已有路径树
        let newPath = place.every((item, ind) => {
            //根据label，如果当前层路径已存在，则工作路径为同路径
            if (path[i] == item.label) {
                if (!item.children) {
                    item.children = [{}]
                }
                place = item.children
                return false
            } else { return true }
        });
        // 否则，在res路径树新建工作路径
        if (newPath) {
            place[place.length] = {}
            place[place.length - 1].label = path[i]
            if (i != path.length - 1) {

                place[place.length - 1].children = [{}]
            }
            place = place[place.length - 1].children
        }

    }
})
console.log(res);